{"version":3,"sources":["Person.js","PersonForm.js","Filter.js","services/persons.js","index.js"],"names":["Lista","ihmiset","poistaTyyppi","map","x","key","name","number","onClick","e","id","Persons","persons","PersonForm","lisaaTyyppi","newName","handlaaTyyppi","newNumber","handlaaNumba","onSubmit","value","onChange","type","Filter","handlaaFiltteri","baseUrl","getAll","a","request","axios","get","response","data","create","newObject","post","console","log","del","delete","update","put","Notification","message","tyyli","className","ReactDOM","render","useState","setPersons","setNewName","setNewNumber","errorMessage","setErrorMessage","errorTyyli","setErrorTyyli","useEffect","tyyppiService","then","joku","event","filtteroituPersons","filter","toLowerCase","indexOf","target","preventDefault","some","window","confirm","vaihdettuNumero","find","n","t","setTimeout","uusiTyyppi","r","concat","Person","ihminen","uudetTyypit","item","catch","error","document","getElementById"],"mappings":"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","file":"static/js/main.9720cb1a.chunk.js","sourcesContent":["import React from 'react'\n\n\n\n\nconst Persons=({persons,poistaTyyppi})=>{\n        return (\n        <div>\n          <Lista ihmiset = {persons} poistaTyyppi= {poistaTyyppi}/>\n          \n        </div>\n        )\n      }\n\nconst Lista =({ihmiset,poistaTyyppi})=>{\n  \n  return(\n        ihmiset.map(x => (\n          <div key={x.name}>\n          <b>{x.name}</b> {x.number} <button onClick={(e)=> poistaTyyppi(x.id)} >Delete</button>\n          </div>\n        ))\n  )\n        \n        }\n\nexport default Persons","import React from 'react'\n\n\nconst PersonForm=({lisaaTyyppi,newName,handlaaTyyppi,newNumber,handlaaNumba})=>\n\n    (\n<form onSubmit={lisaaTyyppi}>\n<div>\n    name: <input\n                value = {newName}\n                onChange={handlaaTyyppi} />\n</div>\n<div>\n    number: <input\n           value = {newNumber}\n           onChange={handlaaNumba} />\n</div>\n<div><button type=\"submit\">Add</button></div>\n</form>\n    )\n\nexport default PersonForm","import React from 'react'\n\nconst Filter=({handlaaFiltteri})=>(\n    <div>Filter names: \n    <input \n      onChange= {handlaaFiltteri} />\n\n  </div>\n\n\n\n)\n\n\n\n\nexport default Filter","import axios from 'axios'\n\n\n\n//json-server --watch db.json\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = async () => {\n    const request = axios.get(baseUrl)\n    const response = await request\n    return response.data\n  }\n  \n  const create = async (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    const response = await request\n    console.log(response,'response');\n      return response.data\n  }\n  \n  const del = async (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    const response = await request\n    console.log(response,'response');\n      return response\n  }\n  const update = async (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    const response = await request\n    console.log(response,'updateresponse');\n    return response.data\n  }\n  \n  export default { getAll, create, del,update }","import React, { useState,useEffect } from 'react'\n\nimport ReactDOM from 'react-dom'\nimport Persons from './Person'\nimport PersonForm from './PersonForm';\nimport Filter from './Filter'\nimport './index.css'\n\nimport tyyppiService from './services/persons.js'\n\n\nconst Notification = ({ message, tyyli }) => {\n  if (message === null) {\n    return null\n  }\n  return (\n   \n    <div className={tyyli}>\n      {message}\n    </div>\n  )\n}\n\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber,setNewNumber] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [errorTyyli, setErrorTyyli] = useState('')\n\n\n\n  useEffect(() => {\n    tyyppiService\n      .getAll()\n      .then(joku => {\n        setPersons(joku)\n      })\n  }, [])\n\n  const lisaaTyyppi= (event)=>{\n    event.preventDefault()\n    if (persons.some(x=>x.name === newName) && persons.some(x=>x.number !== newNumber )){\n\n      const c=window.confirm(`${newName} is already added to the phonebook. Replace the old number with a new one?`)\n      if (c){\n\n      const ihminen = persons.find(n => n.name === newName)\n      const vaihdettuNumero = { ...ihminen, number : newNumber }\n        tyyppiService\n          .update(vaihdettuNumero.id, vaihdettuNumero)\n            .then(t => {\n            setPersons(persons.map(x => x.id !== vaihdettuNumero.id ? x : t))\n \n          })\n          setErrorTyyli('errorG')\n          setErrorMessage(`Updated '${vaihdettuNumero.name}' `)\n          setTimeout(() => {setErrorMessage(null)}, 5000)\n      }\n        else{\n          setNewNumber('')\n          setNewName('')\n        }\n\n      \n    }else{\n      const uusiTyyppi={\n        name: newName,\n        number: newNumber\n      }\n      \n    tyyppiService\n    .create(uusiTyyppi)\n      .then(r => {\n        setPersons(persons.concat(r))\n        setNewNumber('')\n        setNewName('')\n    })\n    setErrorTyyli('errorG')\n    setErrorMessage(`added '${uusiTyyppi.name}' `)\n    setTimeout(() => {setErrorMessage(null)}, 5000)\n    \n  }\n   \n  }\n  const poistaTyyppi= (id)=>{\n  \n     \n    \n    const ihminen = persons.find(n => n.id === id)\n    if (window.confirm(`Poistetaanko '${ihminen.name}' `)) { \n    const uudetTyypit = persons.filter(item => item.id !== id);\n    tyyppiService\n    .del(id)\n      .then(r => {\n       setPersons(uudetTyypit)       \n    })\n    .catch(error => {\n      setErrorTyyli('error')\n      setErrorMessage(`'${ihminen.name}' is already deleted from the server`)\n      setTimeout(() => {setErrorMessage(null)}, 5000)\n      setPersons(uudetTyypit)\n  })\n\n    setErrorMessage(`Deleted '${ihminen.name}'`)\n    setTimeout(() => {setErrorMessage(null)}, 5000)\n    \n}\n  }\n   \n  \n\n  const handlaaTyyppi =(event)=>{\n    setNewName(event.target.value)\n    //console.log(event.target.value,'uustyyppi');\n  }\n  const handlaaNumba =(event)=>{\n    setNewNumber(event.target.value)\n    //console.log(event.target.value);\n  }\n\n  const handlaaFiltteri =(event)=>{\n    //setNewFiltteri( event.target.value)\n\n    const filtteroituPersons=\n    persons.filter(x=> x.name.toLowerCase().indexOf(event.target.value.toLowerCase())>=0)\n    \n    setPersons(filtteroituPersons)\n    //console.log('tama on',filtteroituPersons)\n    //console.log(JSON.stringify(persons));\n  }\n\n\n\n\n  return (\n    <div>\n      <h1 >Phonebook</h1>\n\n      <Notification message={errorMessage} tyyli={errorTyyli} />\n      <div>\n      <Filter onChange= {handlaaFiltteri}/>\n      </div>\n    <h2>Add a new number</h2>\n    <div>\n      <PersonForm\n      lisaaTyyppi={lisaaTyyppi}\n      newName ={newName}\n      handlaaTyyppi= {handlaaTyyppi}\n      newNumber={newNumber}\n      handlaaNumba={handlaaNumba}\n       />\n    </div>\n      <h2 >Numbers</h2>\n      <div>\n      <Persons persons = {persons} poistaTyyppi={poistaTyyppi}/>\n      </div>\n      \n    \n    </div>\n  )\n\n}\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}